@model CadViewModel
@inject IViewLocalizer Localizer
@{
    int cols = 12 / ViewBag.Cols;
    string[] buttons = ViewBag.Buttons;
    string header = ViewBag.Header;
    bool alreadyOrdered = ViewBag.AlreadyOrdered;
}

<script type="module">
    import { loadModel } from '../../../js/site.mjs';

    const Model = {
        id: @Model.Id,
        x: @Model.Coords[0],
        y: @Model.Coords[1],
        z: @Model.Coords[2],
        axis: '@Model.SpinAxis',
        fov: @Model.Fov,
        rgb: { r: @Model.RGB[0] / 225, g: @Model.RGB[1] / 225, b: @Model.RGB[2] / 225 }
    };

    loadModel(Model);
</script>
<div class="container col-md-@cols col-12 mt-4">
    <div class="card">
        <h4 class="card-header text-center mb-1">
            <span>@header</span>
        </h4>
        <div class="card-body">
            <div id="model-@Model.Id"></div>
            <div class="d-grid gap-2 mt-3">
                @foreach (string button in buttons)
                {
                    await Component.InvokeAsync("CadComponent", new { button, alreadyOrdered });
                }
            </div>
        </div>
        <div class="card-footer d-flex justify-content-between fs-6">
            <span>@Model.CreatorName</span>
            <span>@Model.CreationDate</span>
        </div>
    </div>
</div>